import{j as e}from"./ui-vendor-D6QdPKSZ.js";import{a as s}from"./react-vendor-BVAhLato.js";import{c as t,f as a,t as l,R as r,C as d,d as i,D as c,W as n,U as m,Z as x,a as o,b as h,I as p,B as j}from"./index-BaJa-ZGP.js";import{E as u,a as g,b,c as N,d as f,e as v}from"./EnhancedTable-DB0V6gm6.js";import{D as R}from"./date-range-picker-CwOnvkQa.js";import{F as w,D as y}from"./file-text-D9j_NDks.js";import{T as D}from"./trending-up-BeW66eMD.js";import{S as F}from"./search-wyBXqqDH.js";import{X as $}from"./x-OVfnIpib.js";import"./charts-BaPK5s1M.js";import"./table-KAkNip0H.js";import"./calendar-axlD2b3q.js";import"./chevron-right-BDIPc-07.js";
/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=t("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),L=()=>{const[t,L]=s.useState([]),[T,B]=s.useState([]),[k,E]=s.useState(!0),[P,C]=s.useState(!1),[M,q]=s.useState(""),[V,I]=s.useState(""),[W,z]=s.useState(""),[A,U]=s.useState("");s.useEffect(()=>{G(),O()},[V,W,A]);const G=async()=>{E(!0);let e="/reports/financial";const s=new URLSearchParams;V&&s.append("chargerId",V),W&&s.append("startDate",W),A&&s.append("endDate",A),s.toString()&&(e+=`?${s.toString()}`);try{const s=await a.get(e);if(!s.ok)throw new Error("Erro ao buscar relatório");const t=await s.json();L(t)}catch(t){l.error("Erro ao buscar relatório financeiro"),L([])}finally{E(!1)}},O=async()=>{try{const e=await a.get("/admin/wallet-transactions");if(e.ok){let s=await e.json();if(W){const e=new Date(W);s=s.filter(s=>new Date(s.createdAt)>=e)}if(A){const e=new Date(A);e.setHours(23,59,59,999),s=s.filter(s=>new Date(s.createdAt)<=e)}B(s)}}catch(e){}},_=t.reduce((e,s)=>(e.energy+=parseFloat(s["Recarga (kWh)"])||0,e.revenue+=parseFloat(s["Receita (R$)"])||0,e.fees+=parseFloat(s["Valor Total de Taxas (R$)"])||0,e.received+=parseFloat(s["Valor Recebido (R$)"])||0,e.payout+=parseFloat(s["Valor Pago ao Cliente (R$)"])||0,e),{energy:0,revenue:0,fees:0,received:0,payout:0}),H=T.filter(e=>"deposit"===e.type),Z=H.reduce((e,s)=>e+s.amount,0),J=.01*Z,K=Z-J,Q=_.revenue,X=Q+Z,Y=_.fees,ee=Y+J,se=_.received,te=K,ae=se+te,le=.7*ae,re=.2*ae,de=.1*ae,ie=de+re,ce=X>0?ie/X*100:0,ne=s=>{const t=s.toLowerCase();return t.includes("conclu")||t.includes("finish")||t.includes("complet")?e.jsx("span",{className:"px-2.5 py-1 rounded-full bg-emerald-500/20 border border-emerald-500/30 text-emerald-400 text-xs font-medium",children:s}):t.includes("pend")||t.includes("process")?e.jsx("span",{className:"px-2.5 py-1 rounded-full bg-amber-500/20 border border-amber-500/30 text-amber-400 text-xs font-medium",children:s}):t.includes("cancel")||t.includes("fail")||t.includes("error")?e.jsx("span",{className:"px-2.5 py-1 rounded-full bg-red-500/20 border border-red-500/30 text-red-400 text-xs font-medium",children:s}):e.jsx("span",{className:"px-2.5 py-1 rounded-full bg-zinc-500/20 border border-zinc-500/30 text-zinc-400 text-xs font-medium",children:s})};return k&&0===t.length?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-emerald-300/60",children:"Gerando relatório financeiro..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-emerald-50 flex items-center gap-3",children:[e.jsx(w,{className:"w-8 h-8 text-emerald-400"}),"Relatório Financeiro"]}),e.jsx("p",{className:"text-emerald-300/60 mt-1",children:"Análise detalhada de receitas, custos e lucros"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:async()=>{C(!0),await Promise.all([G(),O()]),C(!1),l.success("Relatório atualizado!")},disabled:P,className:"flex items-center gap-2 px-4 py-2 bg-emerald-900/30 hover:bg-emerald-800/50 border border-emerald-800/30 rounded-lg text-emerald-300 transition-all",children:[e.jsx(r,{className:"w-4 h-4 "+(P?"animate-spin":"")}),"Atualizar"]}),e.jsxs("button",{onClick:()=>{if(0===t.length)return void l.error("Nenhum dado para exportar");const e=[["Estação","Início","Fim","Recarga (kWh)","Receita (R$)","Taxas (R$)","Recebido (R$)","Pago Cliente (R$)","Status"].join(","),...t.map(e=>[e["Estação"],e["Início"],e.Fim,e["Recarga (kWh)"],e["Receita (R$)"],e["Valor Total de Taxas (R$)"],e["Valor Recebido (R$)"],e["Valor Pago ao Cliente (R$)"],e.Status].join(","))].join("\n"),s=new Blob([e],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");a.href=URL.createObjectURL(s),a.download=`relatorio_financeiro_${(new Date).toISOString().split("T")[0]}.csv`,a.click(),l.success("Relatório exportado com sucesso!")},disabled:0===t.length,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 rounded-lg text-white font-medium transition-all shadow-lg shadow-emerald-900/30 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(y,{className:"w-4 h-4"}),"Exportar CSV"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(d,{className:"bg-gradient-to-br from-emerald-950/40 to-emerald-900/20 border-emerald-800/30",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-emerald-300/60 font-medium uppercase tracking-wide",children:"Entrada Bruta Total"}),e.jsxs("p",{className:"text-xl font-bold text-emerald-50 mt-1",children:["R$ ",(Q+Z).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-emerald-300/40 mt-1",children:"Recargas + Depósitos"})]}),e.jsx("div",{className:"p-2.5 bg-emerald-500/20 rounded-lg",children:e.jsx(c,{className:"w-5 h-5 text-emerald-400"})})]})})}),e.jsx(d,{className:"bg-gradient-to-br from-emerald-950/40 to-emerald-900/20 border-emerald-800/30",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-emerald-300/60 font-medium uppercase tracking-wide",children:"Receita Líquida"}),e.jsxs("p",{className:"text-xl font-bold text-emerald-400 mt-1",children:["R$ ",ae.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-emerald-300/40 mt-1",children:"Após taxas (MP + outras)"})]}),e.jsx("div",{className:"p-2.5 bg-emerald-500/20 rounded-lg",children:e.jsx(D,{className:"w-5 h-5 text-emerald-400"})})]})})}),e.jsx(d,{className:"bg-gradient-to-br from-red-950/40 to-emerald-900/20 border-red-800/30",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-red-300/60 font-medium uppercase tracking-wide",children:"Total Taxas"}),e.jsxs("p",{className:"text-xl font-bold text-red-400 mt-1",children:["-R$ ",ee.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-red-300/40 mt-1",children:"Recargas + MP (1%)"})]}),e.jsx("div",{className:"p-2.5 bg-red-500/20 rounded-lg",children:e.jsx(S,{className:"w-5 h-5 text-red-400"})})]})})}),e.jsx(d,{className:"bg-gradient-to-br from-purple-950/40 to-emerald-900/20 border-purple-800/30",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-purple-300/60 font-medium uppercase tracking-wide",children:"Depósitos Líquidos"}),e.jsxs("p",{className:"text-xl font-bold text-purple-400 mt-1",children:["R$ ",K.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("p",{className:"text-xs text-purple-300/40 mt-1",children:[H.length," depósito(s)"]})]}),e.jsx("div",{className:"p-2.5 bg-purple-500/20 rounded-lg",children:e.jsx(n,{className:"w-5 h-5 text-purple-400"})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsx(d,{className:"bg-gradient-to-br from-blue-950/40 to-emerald-900/20 border-blue-800/30",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-300/60 font-medium uppercase tracking-wide",children:"Cliente (Dono Estação)"}),e.jsxs("p",{className:"text-xl font-bold text-blue-400 mt-1",children:["R$ ",le.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-blue-300/40 mt-1",children:"70% do líquido de recargas"})]}),e.jsx("div",{className:"p-2.5 bg-blue-500/20 rounded-lg",children:e.jsx(m,{className:"w-5 h-5 text-blue-400"})})]})})}),e.jsx(d,{className:"bg-gradient-to-br from-emerald-950/40 to-emerald-900/20 border-emerald-500/30",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-emerald-300/60 font-medium uppercase tracking-wide",children:"Lucro NeoPower"}),e.jsxs("p",{className:"text-xl font-bold text-emerald-400 mt-1",children:["R$ ",re.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-emerald-300/40 mt-1",children:"20% do líquido de recargas"})]}),e.jsx("div",{className:"p-2.5 bg-emerald-500/20 rounded-lg",children:e.jsx(D,{className:"w-5 h-5 text-emerald-400"})})]})})}),e.jsx(d,{className:"bg-gradient-to-br from-cyan-950/40 to-emerald-900/20 border-cyan-800/30",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-cyan-300/60 font-medium uppercase tracking-wide",children:"Manutenção do Site"}),e.jsxs("p",{className:"text-xl font-bold text-cyan-400 mt-1",children:["R$ ",de.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-cyan-300/40 mt-1",children:"10% do líquido de recargas"})]}),e.jsx("div",{className:"p-2.5 bg-cyan-500/20 rounded-lg",children:e.jsx(x,{className:"w-5 h-5 text-cyan-400"})})]})})})]}),e.jsxs(d,{className:"bg-gradient-to-br from-purple-950/40 to-emerald-900/20 border-purple-800/30",children:[e.jsxs(o,{className:"border-b border-purple-800/30 pb-4",children:[e.jsxs(h,{className:"text-xl text-emerald-50 flex items-center gap-2",children:[e.jsx(n,{className:"w-5 h-5 text-purple-400"}),"Depósitos em Carteira"]}),e.jsx("p",{className:"text-sm text-emerald-300/60 mt-1",children:"Valores depositados pelos usuários (Pix/Cartão) - Taxa Mercado Pago 1%"})]}),e.jsxs(i,{className:"pt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-purple-950/30 border border-purple-800/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),e.jsx("p",{className:"text-xs text-purple-300/60 font-medium uppercase",children:"Total Depósitos"})]}),e.jsxs("p",{className:"text-lg font-bold text-purple-300",children:["R$ ",Z.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("p",{className:"text-xs text-purple-400/70 mt-1",children:[H.length," depósitos"]})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-red-950/20 border border-red-800/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("p",{className:"text-xs text-red-300/60 font-medium uppercase",children:"Taxa Mercado Pago"})]}),e.jsxs("p",{className:"text-lg font-bold text-red-400",children:["-R$ ",J.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-red-400/70 mt-1",children:"1% sobre depósitos"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-emerald-950/30 border border-emerald-500/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-400"}),e.jsx("p",{className:"text-xs text-emerald-300/60 font-medium uppercase",children:"Depósitos Líquidos"})]}),e.jsxs("p",{className:"text-lg font-bold text-emerald-400",children:["R$ ",K.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-emerald-400/70 mt-1",children:"Valor disponível"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-blue-950/20 border border-blue-800/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("p",{className:"text-xs text-blue-300/60 font-medium uppercase",children:"Média por Depósito"})]}),e.jsxs("p",{className:"text-lg font-bold text-blue-400",children:["R$ ",H.length>0?(Z/H.length).toLocaleString("pt-BR",{minimumFractionDigits:2}):"0,00"]}),e.jsx("p",{className:"text-xs text-blue-400/70 mt-1",children:"Valor médio"})]})]}),H.length>0?e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs(u,{striped:!0,hoverable:!0,children:[e.jsx(g,{children:e.jsxs(b,{hoverable:!1,children:[e.jsx(N,{children:"Usuário"}),e.jsx(N,{children:"Data"}),e.jsx(N,{className:"text-right",children:"Valor"}),e.jsx(N,{className:"text-right",children:"Taxa MP (1%)"}),e.jsx(N,{className:"text-right",children:"Líquido"}),e.jsx(N,{children:"Referência"})]})}),e.jsx(f,{children:H.slice(0,10).map((s,t)=>e.jsxs(b,{index:t,children:[e.jsx(v,{className:"font-medium text-emerald-50",children:e.jsxs("div",{children:[e.jsx("p",{children:s.userName}),e.jsx("p",{className:"text-xs text-emerald-300/50",children:s.userEmail})]})}),e.jsx(v,{className:"text-sm text-emerald-300/70",children:new Date(s.createdAt).toLocaleString("pt-BR")}),e.jsxs(v,{className:"text-right font-mono text-purple-400",children:["R$ ",s.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs(v,{className:"text-right font-mono text-red-400/70",children:["-R$ ",(.01*s.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs(v,{className:"text-right font-mono text-emerald-400",children:["R$ ",(.99*s.amount).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx(v,{className:"text-sm text-emerald-300/50",children:s.referenceId||"-"})]},s.id))})]}),H.length>10&&e.jsxs("p",{className:"text-sm text-emerald-300/50 mt-4 text-center",children:["Mostrando 10 de ",H.length," depósitos"]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(n,{className:"w-12 h-12 text-purple-800/50 mb-3"}),e.jsx("p",{className:"text-emerald-300/60",children:"Nenhum depósito encontrado no período."})]})]})]}),e.jsxs(d,{className:"bg-gradient-to-br from-emerald-950/40 to-emerald-900/20 border-emerald-800/30",children:[e.jsxs(o,{className:"border-b border-emerald-800/30 pb-4",children:[e.jsx(h,{className:"text-xl text-emerald-50",children:"Distribuição de Receita Total"}),e.jsx("p",{className:"text-sm text-emerald-300/60 mt-1",children:"Depósitos + Recargas - como o dinheiro é distribuído"})]}),e.jsxs(i,{className:"pt-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-emerald-950/30 border border-emerald-800/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),e.jsx("p",{className:"text-xs text-emerald-300/60 font-medium uppercase",children:"Entrada Bruta Total"})]}),e.jsxs("p",{className:"text-xl font-bold text-emerald-50",children:["R$ ",(Q+Z).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mt-2 space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between text-emerald-300/70",children:[e.jsx("span",{children:"Depósitos:"}),e.jsxs("span",{children:["R$ ",Z.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between text-emerald-300/70",children:[e.jsx("span",{children:"Recargas:"}),e.jsxs("span",{children:["R$ ",Q.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-red-950/20 border border-red-800/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("p",{className:"text-xs text-red-300/60 font-medium uppercase",children:"Total Taxas Descontadas"})]}),e.jsxs("p",{className:"text-xl font-bold text-red-400",children:["-R$ ",ee.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mt-2 space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between text-red-300/70",children:[e.jsx("span",{children:"Taxa MP (1% depósitos):"}),e.jsxs("span",{children:["-R$ ",J.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between text-red-300/70",children:[e.jsx("span",{children:"Taxas recargas (14.26%):"}),e.jsxs("span",{children:["-R$ ",Y.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-emerald-950/30 border border-emerald-500/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-400"}),e.jsx("p",{className:"text-xs text-emerald-300/60 font-medium uppercase",children:"Receita Líquida Total"})]}),e.jsxs("p",{className:"text-xl font-bold text-emerald-400",children:["R$ ",ae.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsxs("div",{className:"mt-2 space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between text-emerald-300/70",children:[e.jsx("span",{children:"Depósitos líquidos:"}),e.jsxs("span",{children:["R$ ",te.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex justify-between text-emerald-300/70",children:[e.jsx("span",{children:"Recargas líquidas:"}),e.jsxs("span",{children:["R$ ",se.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})]}),X>0&&e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"text-sm font-semibold text-emerald-300 mb-3 mt-6",children:"Distribuição da Receita Total"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-blue-950/20 border border-blue-800/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("p",{className:"text-xs text-blue-300/60 font-medium uppercase",children:"Dono da Estação (Cliente)"})]}),e.jsxs("p",{className:"text-lg font-bold text-blue-400",children:["R$ ",le.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-blue-400/70 mt-1",children:"70% do líquido (~60% do bruto)"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-emerald-950/30 border border-emerald-500/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-400"}),e.jsx("p",{className:"text-xs text-emerald-300/60 font-medium uppercase",children:"Lucro NeoPower"})]}),e.jsxs("p",{className:"text-lg font-bold text-emerald-400",children:["R$ ",re.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-emerald-400/70 mt-1",children:"20% do líquido (~17.1% do bruto)"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-cyan-950/20 border border-cyan-800/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-cyan-500"}),e.jsx("p",{className:"text-xs text-cyan-300/60 font-medium uppercase",children:"Manutenção do Site"})]}),e.jsxs("p",{className:"text-lg font-bold text-cyan-400",children:["R$ ",de.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-cyan-400/70 mt-1",children:"10% do líquido (~8.6% do bruto)"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-amber-950/20 border border-amber-800/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),e.jsx("p",{className:"text-xs text-amber-300/60 font-medium uppercase",children:"Margem Total"})]}),e.jsxs("p",{className:"text-lg font-bold "+(ce>=0?"text-amber-400":"text-red-400"),children:[ce.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-amber-400/70 mt-1",children:"NeoPower + Manutenção / Bruto"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-xs text-emerald-300/60 mb-2",children:"Distribuição da Receita Total (% do bruto):"}),(()=>{const s=X>0?ee/X*100:0,t=X>0?le/X*100:0,a=X>0?re/X*100:0,l=X>0?de/X*100:0;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"h-6 rounded-full overflow-hidden flex bg-emerald-950/50",children:[e.jsx("div",{className:"h-full bg-red-500 flex items-center justify-center",style:{width:`${s}%`},title:`Taxas (${s.toFixed(1)}%)`,children:e.jsxs("span",{className:"text-[10px] text-white font-medium",children:[s.toFixed(1),"%"]})}),e.jsx("div",{className:"h-full bg-blue-500 flex items-center justify-center",style:{width:`${t}%`},title:`Cliente (${t.toFixed(1)}%)`,children:e.jsxs("span",{className:"text-[10px] text-white font-medium",children:[t.toFixed(1),"%"]})}),e.jsx("div",{className:"h-full bg-emerald-500 flex items-center justify-center",style:{width:`${a}%`},title:`NeoPower (${a.toFixed(1)}%)`,children:e.jsxs("span",{className:"text-[10px] text-white font-medium",children:[a.toFixed(1),"%"]})}),e.jsx("div",{className:"h-full bg-cyan-500 flex items-center justify-center",style:{width:`${l}%`},title:`Manutenção (${l.toFixed(1)}%)`,children:e.jsxs("span",{className:"text-[10px] text-white font-medium",children:[l.toFixed(1),"%"]})})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e.jsxs("span",{className:"text-red-300/70",children:["Taxas (",s.toFixed(1),"%)"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),e.jsxs("span",{className:"text-blue-300/70",children:["Cliente (",t.toFixed(1),"%)"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e.jsxs("span",{className:"text-emerald-300/70",children:["NeoPower (",a.toFixed(1),"%)"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-cyan-500"}),e.jsxs("span",{className:"text-cyan-300/70",children:["Manutenção (",l.toFixed(1),"%)"]})]})]})]})})()]})]}),Z>0&&e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"text-sm font-semibold text-purple-300 mb-3 mt-6",children:"Distribuição dos Depósitos"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-purple-950/20 border border-purple-800/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),e.jsx("p",{className:"text-xs text-purple-300/60 font-medium uppercase",children:"Depósito Bruto"})]}),e.jsxs("p",{className:"text-lg font-bold text-purple-400",children:["R$ ",Z.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-purple-400/70 mt-1",children:"Valor depositado pelo cliente"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-red-950/20 border border-red-800/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("p",{className:"text-xs text-red-300/60 font-medium uppercase",children:"Taxa Mercado Pago"})]}),e.jsxs("p",{className:"text-lg font-bold text-red-400",children:["-R$ ",J.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-red-400/70 mt-1",children:"1% sobre depósitos"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-emerald-950/30 border border-emerald-500/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-400"}),e.jsx("p",{className:"text-xs text-emerald-300/60 font-medium uppercase",children:"Depósito Líquido"})]}),e.jsxs("p",{className:"text-lg font-bold text-emerald-400",children:["R$ ",K.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),e.jsx("p",{className:"text-xs text-emerald-400/70 mt-1",children:"Saldo na carteira do cliente"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"h-3 rounded-full overflow-hidden flex bg-purple-950/50",children:[e.jsx("div",{className:"h-full bg-red-500",style:{width:"1%"},title:"Taxa MP (1%)"}),e.jsx("div",{className:"h-full bg-emerald-500",style:{width:"99%"},title:"Saldo Cliente (99%)"})]}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-emerald-300/60",children:[e.jsx("span",{children:"Taxa MP (1%)"}),e.jsx("span",{children:"Saldo Cliente (99%)"})]})]})]})]})]}),e.jsx(d,{className:"bg-gradient-to-br from-emerald-950/40 to-emerald-900/20 border-emerald-800/30",children:e.jsx(i,{className:"p-4",children:e.jsxs("form",{onSubmit:e=>{e.preventDefault(),I(M)},className:"flex flex-wrap items-end gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"text-xs text-emerald-300/60 font-medium mb-1.5 block",children:"ID da Estação"}),e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-emerald-500/50"}),e.jsx(p,{type:"text",placeholder:"Filtrar por estação...",value:M,onChange:e=>q(e.target.value),className:"pl-10 bg-emerald-950/30 border-emerald-800/50 text-emerald-50 placeholder:text-emerald-300/30 focus:border-emerald-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-emerald-300/60 font-medium mb-1.5 block",children:"Período"}),e.jsx(R,{startDate:W,endDate:A,onStartDateChange:z,onEndDateChange:U,onClear:()=>{z(""),U("")},className:"min-w-[280px]"})]}),e.jsxs(j,{type:"submit",className:"bg-emerald-600 hover:bg-emerald-500 text-white shadow-lg shadow-emerald-900/30 h-10",children:[e.jsx(F,{className:"w-4 h-4 mr-2"}),"Filtrar"]}),V&&e.jsxs(j,{type:"button",variant:"outline",onClick:()=>{q(""),I(""),z(""),U("")},className:"border-emerald-800/50 text-emerald-300 hover:bg-emerald-900/30 h-10",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Limpar Estação"]})]})})}),e.jsxs(d,{className:"bg-gradient-to-br from-emerald-950/40 to-emerald-900/20 border-emerald-800/30 backdrop-blur-sm shadow-2xl shadow-emerald-900/20",children:[e.jsx(o,{className:"border-b border-emerald-800/30 pb-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx(h,{className:"text-xl text-emerald-50",children:"Detalhamento por Transação"}),e.jsxs("p",{className:"text-sm text-emerald-300/60 mt-1",children:[t.length," ",1===t.length?"registro encontrado":"registros encontrados"]})]})})}),e.jsxs(i,{className:"pt-6",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(u,{striped:!0,hoverable:!0,children:[e.jsx(g,{children:e.jsxs(b,{hoverable:!1,children:[e.jsx(N,{children:"Estação"}),e.jsx(N,{children:"Início"}),e.jsx(N,{children:"Fim"}),e.jsx(N,{className:"text-right",children:"Energia"}),e.jsx(N,{className:"text-right",children:"Receita"}),e.jsx(N,{className:"text-right",children:"Taxas"}),e.jsx(N,{className:"text-right",children:"Recebido"}),e.jsx(N,{className:"text-right",children:"Pago"}),e.jsx(N,{className:"text-center",children:"Status"})]})}),e.jsx(f,{children:t.length>0?t.map((s,t)=>e.jsxs(b,{index:t,children:[e.jsx(v,{className:"font-medium text-emerald-50",children:s["Estação"]}),e.jsx(v,{className:"text-sm text-emerald-300/70",children:s["Início"]}),e.jsx(v,{className:"text-sm text-emerald-300/70",children:s.Fim}),e.jsxs(v,{className:"text-right font-mono text-amber-400",children:[s["Recarga (kWh)"]," kWh"]}),e.jsxs(v,{className:"text-right font-mono text-emerald-400",children:["R$ ",s["Receita (R$)"]]}),e.jsxs(v,{className:"text-right font-mono text-red-400/70",children:["R$ ",s["Valor Total de Taxas (R$)"]]}),e.jsxs(v,{className:"text-right font-mono text-emerald-300",children:["R$ ",s["Valor Recebido (R$)"]]}),e.jsxs(v,{className:"text-right font-mono text-blue-400",children:["R$ ",s["Valor Pago ao Cliente (R$)"]]}),e.jsx(v,{className:"text-center",children:ne(s.Status)})]},t)):e.jsx(b,{index:0,children:e.jsx(v,{colSpan:9,className:"text-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(w,{className:"w-12 h-12 text-emerald-800/50"}),e.jsx("p",{className:"text-emerald-300/60",children:"Nenhum dado encontrado para os filtros selecionados."})]})})})})]})}),t.length>0&&e.jsx("div",{className:"mt-6 pt-6 border-t border-emerald-800/30",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-emerald-950/30 border border-emerald-800/20",children:[e.jsx("p",{className:"text-xs text-emerald-300/60 mb-1",children:"Total Transações"}),e.jsx("p",{className:"text-lg font-bold text-emerald-50",children:t.length})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-emerald-950/30 border border-emerald-800/20",children:[e.jsx("p",{className:"text-xs text-emerald-300/60 mb-1",children:"Energia Total"}),e.jsxs("p",{className:"text-lg font-bold text-amber-400",children:[_.energy.toFixed(2)," kWh"]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-emerald-950/30 border border-emerald-800/20",children:[e.jsx("p",{className:"text-xs text-emerald-300/60 mb-1",children:"Receita Total"}),e.jsxs("p",{className:"text-lg font-bold text-emerald-400",children:["R$ ",_.revenue.toFixed(2)]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-emerald-950/30 border border-emerald-800/20",children:[e.jsx("p",{className:"text-xs text-emerald-300/60 mb-1",children:"Total Taxas"}),e.jsxs("p",{className:"text-lg font-bold text-red-400",children:["R$ ",_.fees.toFixed(2)]})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-emerald-950/30 border border-emerald-800/20",children:[e.jsx("p",{className:"text-xs text-emerald-300/60 mb-1",children:"Lucro Líquido"}),e.jsxs("p",{className:"text-lg font-bold "+(ie>=0?"text-emerald-400":"text-red-400"),children:["R$ ",ie.toFixed(2)]})]})]})})]})]})]})};export{L as FinancialReport};
